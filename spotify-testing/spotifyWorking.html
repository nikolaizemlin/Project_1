<!DOCTYPE html>
<html>

<head>
    <title>Spotify</title>
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
</head>

<body>
    <h1>Spotify</h1>
    <h2>Open your console log</h2>

    <iframe id="spotify-iframe" src="" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>

    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <script>

        var token = "BQDvwOBAk_O4tvJyjR_BXm5P4_yJfW86pcaaQ_jN-ShoaDDEmJnCstVCcg53g3kVH1M9abg_HF9vKMHkw7tl8-AZW49OwZ0-nN2GL8GQj5hspdXdnicqHSCF6a9dwzKSpbzJ0kf8jjkgLAoZgrZ17HqRZEvkKud_mw";

        var musicUrl = "https://api.spotify.com/v1/search?query=queen&limit=1&type=artist"
        $.ajax({
            url: musicUrl,
            method: 'GET',
            headers: {
                'Authorization': 'Bearer ' + token
            },
            success: function (response) {
                console.log(response);
                //console.log(response.artists.items[0].id);

                var artistId = response.artists.items[0].id;
                var source = "https://open.spotify.com/embed?uri=spotify:artist:" + artistId;

                $("#spotify-iframe").attr("src", source);

            },
            error: function () {
                console.log("Error with ajax GET");
            }
        });

    </script>
</body>

</html>